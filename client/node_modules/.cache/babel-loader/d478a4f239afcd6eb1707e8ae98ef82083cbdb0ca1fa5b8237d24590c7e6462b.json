{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Desktop\\\\mml\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// client/src/App.js\nimport React, { useState } from 'react';\nimport { Container, Typography, TextField, Button, Box } from '@mui/material';\nimport FileUpload from './components/FileUpload';\nimport DownloadZipButton from './components/DownloadZipButton';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [sessionId, setSessionId] = useState('');\n  const [headers, setHeaders] = useState([]);\n  const [prompt, setPrompt] = useState('');\n  const [code, setCode] = useState('');\n  const [output, setOutput] = useState(null);\n  const [step, setStep] = useState(null);\n  const handleUploadSuccess = ({\n    sessionId,\n    columns\n  }) => {\n    setSessionId(sessionId);\n    setHeaders(columns);\n    setCode('');\n    setOutput(null);\n    setPrompt('');\n  };\n  const handleGenerateCode = async () => {\n    if (!prompt || !headers.length || !sessionId) return;\n    try {\n      const response = await fetch('http://localhost:5000/generate-code', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          prompt,\n          headers,\n          sessionId\n        })\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        console.error('❌ Backend Error:', data);\n        setCode(`Error: ${(data === null || data === void 0 ? void 0 : data.error) || 'Server error'}`);\n        return;\n      }\n      if (data.code) {\n        setCode(data.code);\n        setStep(data.step);\n\n        // Try loading output (either text or image)\n        const textUrl = `http://localhost:5000/sessions/${sessionId}/output_step_${data.step}.txt`;\n        const imageUrl = `http://localhost:5000/sessions/${sessionId}/output_step_${data.step}.png`;\n        const imageExists = await fetch(imageUrl).then(res => res.ok).catch(() => false);\n        if (imageExists) {\n          setOutput({\n            type: 'image',\n            url: imageUrl\n          });\n          return;\n        }\n        const textExists = await fetch(textUrl);\n        if (textExists.ok) {\n          const textContent = await textExists.text();\n          setOutput({\n            type: 'text',\n            content: textContent\n          });\n        } else {\n          setOutput(null);\n        }\n      } else {\n        setCode('Failed to generate code.');\n        setOutput(null);\n      }\n    } catch (err) {\n      console.error('❌ Error during fetch:', err);\n      setCode('Internal error. Check console.');\n      setOutput(null);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    sx: {\n      mt: 5\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"\\uD83E\\uDDE0 Prompt2LLM\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FileUpload, {\n      onSuccess: handleUploadSuccess\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), sessionId && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Enter your ML prompt\",\n          value: prompt,\n          onChange: e => setPrompt(e.target.value),\n          onKeyDown: e => e.key === 'Enter' && handleGenerateCode()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          sx: {\n            mt: 2\n          },\n          variant: \"contained\",\n          onClick: handleGenerateCode,\n          children: \"Generate Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), code && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: \"\\uD83D\\uDD27 Generated Code:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          style: {\n            background: '#f5f5f5',\n            padding: '1rem',\n            overflowX: 'auto'\n          },\n          children: code\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this), output && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: \"\\uD83D\\uDCE4 Output:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this), output.type === 'image' ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: output.url,\n          alt: \"Output\",\n          style: {\n            maxWidth: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"pre\", {\n          style: {\n            background: '#f0f0f0',\n            padding: '1rem'\n          },\n          children: output.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(DownloadZipButton, {\n        sessionId: sessionId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"RpHpsu1YLrxeYGRyeB61nNUO4U8=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Container","Typography","TextField","Button","Box","FileUpload","DownloadZipButton","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","sessionId","setSessionId","headers","setHeaders","prompt","setPrompt","code","setCode","output","setOutput","step","setStep","handleUploadSuccess","columns","handleGenerateCode","length","response","fetch","method","body","JSON","stringify","data","json","ok","console","error","textUrl","imageUrl","imageExists","then","res","catch","type","url","textExists","textContent","text","content","err","sx","mt","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSuccess","fullWidth","label","value","onChange","e","target","onKeyDown","key","onClick","style","background","padding","overflowX","src","alt","maxWidth","_c","$RefreshReg$"],"sources":["C:/Users/DELL/OneDrive/Desktop/mml/client/src/App.js"],"sourcesContent":["// client/src/App.js\r\nimport React, { useState } from 'react';\r\nimport { Container, Typography, TextField, Button, Box } from '@mui/material';\r\nimport FileUpload from './components/FileUpload';\r\nimport DownloadZipButton from './components/DownloadZipButton';\r\n\r\nfunction App() {\r\n  const [sessionId, setSessionId] = useState('');\r\n  const [headers, setHeaders] = useState([]);\r\n  const [prompt, setPrompt] = useState('');\r\n  const [code, setCode] = useState('');\r\n  const [output, setOutput] = useState(null);\r\n  const [step, setStep] = useState(null);\r\n\r\n  const handleUploadSuccess = ({ sessionId, columns }) => {\r\n    setSessionId(sessionId);\r\n    setHeaders(columns);\r\n    setCode('');\r\n    setOutput(null);\r\n    setPrompt('');\r\n  };\r\n\r\n  const handleGenerateCode = async () => {\r\n    if (!prompt || !headers.length || !sessionId) return;\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/generate-code', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ prompt, headers, sessionId }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        console.error('❌ Backend Error:', data);\r\n        setCode(`Error: ${data?.error || 'Server error'}`);\r\n        return;\r\n      }\r\n\r\n      if (data.code) {\r\n        setCode(data.code);\r\n        setStep(data.step);\r\n\r\n        // Try loading output (either text or image)\r\n        const textUrl = `http://localhost:5000/sessions/${sessionId}/output_step_${data.step}.txt`;\r\n        const imageUrl = `http://localhost:5000/sessions/${sessionId}/output_step_${data.step}.png`;\r\n\r\n        const imageExists = await fetch(imageUrl).then(res => res.ok).catch(() => false);\r\n        if (imageExists) {\r\n          setOutput({ type: 'image', url: imageUrl });\r\n          return;\r\n        }\r\n\r\n        const textExists = await fetch(textUrl);\r\n        if (textExists.ok) {\r\n          const textContent = await textExists.text();\r\n          setOutput({ type: 'text', content: textContent });\r\n        } else {\r\n          setOutput(null);\r\n        }\r\n      } else {\r\n        setCode('Failed to generate code.');\r\n        setOutput(null);\r\n      }\r\n    } catch (err) {\r\n      console.error('❌ Error during fetch:', err);\r\n      setCode('Internal error. Check console.');\r\n      setOutput(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container sx={{ mt: 5 }}>\r\n      <Typography variant=\"h4\" gutterBottom>🧠 Prompt2LLM</Typography>\r\n\r\n      <FileUpload onSuccess={handleUploadSuccess} />\r\n\r\n      {sessionId && (\r\n        <>\r\n          <Box sx={{ mt: 3 }}>\r\n            <TextField\r\n              fullWidth\r\n              label=\"Enter your ML prompt\"\r\n              value={prompt}\r\n              onChange={(e) => setPrompt(e.target.value)}\r\n              onKeyDown={(e) => e.key === 'Enter' && handleGenerateCode()}\r\n            />\r\n            <Button sx={{ mt: 2 }} variant=\"contained\" onClick={handleGenerateCode}>\r\n              Generate Code\r\n            </Button>\r\n          </Box>\r\n\r\n          {code && (\r\n            <Box sx={{ mt: 4 }}>\r\n              <Typography variant=\"h6\">🔧 Generated Code:</Typography>\r\n              <pre style={{ background: '#f5f5f5', padding: '1rem', overflowX: 'auto' }}>\r\n                {code}\r\n              </pre>\r\n            </Box>\r\n          )}\r\n\r\n          {output && (\r\n            <Box sx={{ mt: 2 }}>\r\n              <Typography variant=\"h6\">📤 Output:</Typography>\r\n              {output.type === 'image' ? (\r\n                <img src={output.url} alt=\"Output\" style={{ maxWidth: '100%' }} />\r\n              ) : (\r\n                <pre style={{ background: '#f0f0f0', padding: '1rem' }}>{output.content}</pre>\r\n              )}\r\n            </Box>\r\n          )}\r\n\r\n          <DownloadZipButton sessionId={sessionId} />\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}